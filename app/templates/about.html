{% extends 'base.html' %}
{% load static %}

{% block title %}About Me - {{ profile.name }}{% endblock %}

{% block meta %}
    <meta name="description" content="{{ profile.bio|striptags|truncatewords:30 }}">
    <meta property="og:title" content="About {{ profile.name }}">
    <meta property="og:description" content="{{ profile.bio|striptags|truncatewords:30 }}">
    {% if profile.profile_image %}
        <meta property="og:image" content="{{ request.build_absolute_uri }}{{ profile.profile_image.url }}">
    {% endif %}
    <meta name="keywords" content="developer, portfolio, web development, {{ profile.name }}">
{% endblock %}

{% block content %}
<div class="container-fluid px-4 py-12">
    <!-- Hero Section -->
    <div class="text-center mb-12 fade-in-up animate">
        <div class="position-relative d-inline-block mb-5">
            {% if profile.profile_image %}
                <img src="{{ profile.profile_image.url }}" 
                     alt="{{ profile.name }}" 
                     class="rounded-circle border border-4 border-primary shadow-lg"
                     style="width: 200px; height: 200px; object-fit: cover;">
            {% else %}
                <div class="rounded-circle bg-gradient-3 d-flex align-items-center justify-content-center text-white shadow-lg"
                     style="width: 200px; height: 200px; font-size: 4rem;">
                    {{ profile.name|first }}
                </div>
            {% endif %}
            <!-- Status Indicator -->
            <div class="position-absolute bottom-0 end-0 w-8 h-8 bg-success rounded-circle border border-white animate-pulse"></div>
        </div>

        <h1 class="display-3 gradient-text mb-3">{{ profile.name|default:"Resham Chaudhary" }}</h1>
        <h2 class="h4 text-secondary mb-4">{{ profile.title|default:"Full Stack Developer" }}</h2>
        
        <div class="d-flex justify-content-center mb-5">
            <div class="d-flex align-items-center bg-transparent border border-primary text-white px-4 py-2 rounded-pill">
                <i class="fas fa-map-marker-alt me-2 text-danger"></i>
                <span>{{ profile.location|default:"Dhangadi, Kailali, Nepal" }}</span>
            </div>
        </div>

        <!-- Stats -->
        <div class="row justify-content-center g-4 mb-8">
            <div class="col-auto">
                <div class="glass-card px-5 py-3 text-center animate">
                    <div class="text-primary fw-bold h4 mb-0">2+</div>
                    <small class="text-secondary">Years Experience</small>
                </div>
            </div>
            <div class="col-auto">
                <div class="glass-card px-5 py-3 text-center animate">
                    <div class="text-primary fw-bold h4 mb-0">15+</div>
                    <small class="text-secondary">Projects Done</small>
                </div>
            </div>
            <div class="col-auto">
                <div class="glass-card px-5 py-3 text-center animate">
                    <div class="text-primary fw-bold h4 mb-0">100%</div>
                    <small class="text-secondary">Client Satisfaction</small>
                </div>
            </div>
        </div>
    </div>

    <div class="row g-8">
        <!-- Main Bio -->
        <div class="col-12 col-lg-8 fade-in-left animate">
            <div class="glass-card p-6 h-100">
                <div class="d-flex align-items-center mb-5">
                    <div class="bg-gradient-1 text-white rounded-circle d-flex align-items-center justify-content-center me-3" 
                         style="width: 50px; height: 50px;">
                        <i class="fas fa-user"></i>
                    </div>
                    <h3 class="h2 text-white">About Me</h3>
                </div>
                <div class="text-secondary fs-5 line-height-lg">
                    {{ profile.bio|safe|default:"<p>I'm a passionate Full Stack Developer with over 3 years of experience in creating robust web applications and digital solutions. I specialize in modern web technologies including Django, React, Python, and JavaScript.</p><p>My journey in software development began with a curiosity about how things work behind the scenes of websites and applications. This curiosity has driven me to continuously learn and adapt to new technologies and frameworks.</p><p>I believe in writing clean, maintainable code and creating user experiences that are both functional and delightful. When I'm not coding, you can find me exploring new technologies, contributing to open-source projects, or mentoring aspiring developers.</p>" }}
                </div>

                <!-- Skills Overview -->
                <div class="mt-6">
                    <h4 class="h5 text-white mb-4">What I Do</h4>
                    <div class="row g-4">
                        <div class="col-12 col-md-6">
                            <div class="d-flex">
                                <div class="me-3 text-primary"><i class="fas fa-code fa-lg"></i></div>
                                <div>
                                    <h6 class="text-white">Frontend Development</h6>
                                    <p class="text-secondary small">React, Vue.js, HTML5, CSS3</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-md-6">
                            <div class="d-flex">
                                <div class="me-3 text-primary"><i class="fas fa-server fa-lg"></i></div>
                                <div>
                                    <h6 class="text-white">Backend Development</h6>
                                    <p class="text-secondary small">Django, Node.js, Python</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-md-6">
                            <div class="d-flex">
                                <div class="me-3 text-primary"><i class="fas fa-database fa-lg"></i></div>
                                <div>
                                    <h6 class="text-white">Database Management</h6>
                                    <p class="text-secondary small">PostgreSQL, MySQL, MongoDB</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-md-6">
                            <div class="d-flex">
                                <div class="me-3 text-primary"><i class="fas fa-cloud fa-lg"></i></div>
                                <div>
                                    <h6 class="text-white">Cloud & DevOps</h6>
                                    <p class="text-secondary small">AWS, Docker, Git</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sidebar -->
        <div class="col-12 col-lg-4 fade-in-right animate">
            <!-- Contact Info -->
            <div class="glass-card p-5 mb-5">
                <div class="d-flex align-items-center mb-4">
                    <div class="bg-gradient-4 text-white rounded-circle d-flex align-items-center justify-content-center me-3" 
                         style="width: 40px; height: 40px;">
                        <i class="fas fa-address-card"></i>
                    </div>
                    <h4 class="h5 text-white mb-0">Get In Touch</h4>
                </div>
                <div class="list-group list-group-flush text-white">
                    <a href="mailto:{{ profile.email|default:'reshamchy2004@gmail.com' }}" 
                       class="list-group-item bg-transparent border-0 d-flex align-items-center text-white hover-primary">
                        <i class="fas fa-envelope me-3 text-primary"></i>
                        {{ profile.email|default:"reshamchy2004@gmail.com" }}
                    </a>
                    <a href="tel:{{ profile.phone|default:'9860485752' }}" 
                       class="list-group-item bg-transparent border-0 d-flex align-items-center text-white hover-primary">
                        <i class="fas fa-phone me-3 text-success"></i>
                        {{ profile.phone|default:"+977-9860485752" }}
                    </a>
                    {% if profile.website %}
                        <a href="{{ profile.website }}" target="_blank" 
                           class="list-group-item bg-transparent border-0 d-flex align-items-center text-white hover-primary">
                            <i class="fas fa-globe me-3 text-info"></i>
                           
                        </a>
                    {% endif %}
                    <div class="list-group-item bg-transparent border-0 d-flex align-items-center text-secondary">
                        <i class="fas fa-map-marker-alt me-3 text-danger"></i>
                        {{ profile.location|default:"Dhangadi, Kailali" }}
                    </div>
                </div>
            </div>

            <!-- Social Links -->
            {% if profile.github_url or profile.linkedin_url or profile.twitter_url or profile.instagram_url %}
                <div class="glass-card p-5 mb-5">
                    <div class="d-flex align-items-center mb-4">
                        <div class="bg-gradient-2 text-white rounded-circle d-flex align-items-center justify-content-center me-3" 
                             style="width: 40px; height: 40px;">
                            <i class="fas fa-share-alt"></i>
                        </div>
                        <h4 class="h5 text-white mb-0">Follow Me</h4>
                    </div>
                    <div class="d-flex gap-3">
                        {% if profile.github_url %}
                            <a href="{{ profile.github_url }}" target="_blank" 
                               class="btn btn-outline-light btn-sm rounded-circle d-flex align-items-center justify-content-center"
                               style="width: 40px; height: 40px;">
                                <i class="fab fa-github"></i>
                            </a>
                        {% endif %}
                        {% if profile.linkedin_url %}
                            <a href="{{ profile.linkedin_url }}" target="_blank" 
                               class="btn btn-outline-primary btn-sm rounded-circle d-flex align-items-center justify-content-center"
                               style="width: 40px; height: 40px;">
                                <i class="fab fa-linkedin-in"></i>
                            </a>
                        {% endif %}
                        {% if profile.twitter_url %}
                            <a href="{{ profile.twitter_url }}" target="_blank" 
                               class="btn btn-outline-info btn-sm rounded-circle d-flex align-items-center justify-content-center"
                               style="width: 40px; height: 40px;">
                                <i class="fab fa-twitter"></i>
                            </a>
                        {% endif %}
                        {% if profile.instagram_url %}
                            <a href="{{ profile.instagram_url }}" target="_blank" 
                               class="btn btn-outline-danger btn-sm rounded-circle d-flex align-items-center justify-content-center"
                               style="width: 40px; height: 40px;">
                                <i class="fab fa-instagram"></i>
                            </a>
                        {% endif %}
                    </div>
                </div>
            {% endif %}

            <!-- Resume -->
            {% if profile.resume %}
                <div class="glass-card p-5 mb-5 text-center">
                    <h5 class="text-white mb-3"><i class="fas fa-file-pdf me-2"></i> Download Resume</h5>
                    <a href="{% url 'download_resume' %}" 
                       class="btn btn-primary w-100">
                        <i class="fas fa-download me-2"></i> Download PDF
                    </a>
                </div>
            {% endif %}

            <!-- Availability -->
            <div class="p-5 rounded-4 bg-gradient-1 text-white text-center">
                <div class="d-flex align-items-center justify-content-center mb-3">
                    <div class="w-4 h-4 bg-white rounded-circle me-2 animate-pulse"></div>
                    <h5 class="mb-0">Available for Work</h5>
                </div>
                <p class="small opacity-90 mb-3">Accepting new projects and opportunities.</p>
                <div class="d-flex align-items-center justify-content-center text-white-50 small">
                    <i class="fas fa-clock me-2"></i>
                    <span>Response within 24 hours</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Skills Section -->
    {% if profile.skills %}
        <div class="my-12 fade-in-up animate">
            <div class="glass-card p-6">
                <div class="text-center mb-6">
                    <h3 class="h2 text-white">Skills & Technologies</h3>
                    <p class="text-secondary">Technologies I work with to bring ideas to life</p>
                </div>
                <div class="row g-5">
                    <div class="col-12 col-md-6">
                        <div class="mb-4">
                            <div class="d-flex justify-content-between mb-2">
                                <strong class="text-white">Python / Django</strong>
                                <span class="text-primary">90%</span>
                            </div>
                            <div class="progress rounded-pill" style="height: 10px;">
                                <div class="progress-bar bg-gradient-1" role="progressbar" style="width: 90%;" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                        </div>
                        <div class="mb-4">
                            <div class="d-flex justify-content-between mb-2">
                                <strong class="text-white">JavaScript / React</strong>
                                <span class="text-primary">85%</span>
                            </div>
                            <div class="progress rounded-pill" style="height: 10px;">
                                <div class="progress-bar bg-gradient-2" role="progressbar" style="width: 85%;" aria-valuenow="85" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-md-6">
                        <div class="mb-4">
                            <div class="d-flex justify-content-between mb-2">
                                <strong class="text-white">Database Design</strong>
                                <span class="text-primary">80%</span>
                            </div>
                            <div class="progress rounded-pill" style="height: 10px;">
                                <div class="progress-bar bg-gradient-3" role="progressbar" style="width: 80%;" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                        </div>
                        <div class="mb-4">
                            <div class="d-flex justify-content-between mb-2">
                                <strong class="text-white">UI/UX Design</strong>
                                <span class="text-primary">75%</span>
                            </div>
                            <div class="progress rounded-pill" style="height: 10px;">
                                <div class="progress-bar bg-gradient-4" role="progressbar" style="width: 75%;" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    {% endif %}

    <!-- Recent Blog Posts -->
    {% if recent_posts %}
        <div class="my-12 fade-in-up animate">
            <div class="glass-card p-6">
                <div class="d-flex justify-content-between align-items-center mb-5">
                    <h3 class="h2 text-white d-flex align-items-center">
                        <i class="fas fa-blog me-3 text-primary"></i> Latest Blog Posts
                    </h3>
                    <a href="{% url 'blog' %}" class="btn btn-outline-primary btn-sm">Read All</a>
                </div>
                <div class="row g-4">
                    {% for post in recent_posts|slice:":3" %}
                        <div class="col-12 col-md-6 col-lg-4">
                            <div class="card bg-transparent border border-secondary">
                                <div class="card-body">
                                    <small class="text-secondary">{{ post.created_at|date:"M d, Y" }}</small>
                                    <h5 class="card-title text-white mt-2">{{ post.title|truncatechars:40 }}</h5>
                                    <p class="card-text text-secondary small">{{ post.excerpt|truncatewords:15 }}</p>
                                    <a href="{% url 'blog_detail' post.slug %}" class="btn btn-sm btn-primary">Read More</a>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    {% endif %}

    <!-- Featured Projects -->
    {% if featured_projects %}
        <div class="my-12 fade-in-up animate">
            <div class="glass-card p-6">
                <div class="d-flex justify-content-between align-items-center mb-5">
                    <h3 class="h2 text-white d-flex align-items-center">
                        <i class="fas fa-rocket me-3 text-primary"></i> Featured Projects
                    </h3>
                    <a href="{% url 'projects' %}" class="btn btn-outline-primary btn-sm">View All</a>
                </div>
                <div class="row g-4">
                    {% for project in featured_projects|slice:":3" %}
                        <div class="col-12 col-md-6 col-lg-4">
                            <div class="project-card h-100">
                                {% if project.image %}
                                    <img src="{{ project.image.url }}" alt="{{ project.title }}" class="project-image w-100" loading="lazy">
                                {% else %}
                                    <div class="project-image w-100 bg-gradient-2 d-flex align-items-center justify-content-center">
                                        <span class="text-white fw-bold">{{ project.title|truncatechars:10 }}</span>
                                    </div>
                                {% endif %}
                                <div class="card-body">
                                    <h5 class="text-white mb-2">{{ project.title }}</h5>
                                    <p class="text-secondary small">{{ project.description|truncatewords:15 }}</p>
                                    <a href="{% url 'project_detail' project.pk %}" class="btn btn-sm btn-primary">Learn More</a>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    {% endif %}

    <!-- Testimonials -->
    <div class="my-12 fade-in-up animate">
        <div class="glass-card p-6">
            <div class="text-center mb-6">
                <h3 class="h2 text-white">What Clients Say</h3>
                <p class="text-secondary">Feedback from satisfied clients and collaborators</p>
            </div>
            <div class="row g-4">
                <div class="col-12 col-md-6 col-lg-4">
                    <div class="p-4 bg-transparent border border-secondary rounded-3 h-100">
                        <div class="text-secondary mb-3"><i class="fas fa-quote-left"></i> Resham delivered exceptional work on our web application. His attention to detail and technical expertise exceeded our expectations. <i class="fas fa-quote-right"></i></div>
                        <div class="d-flex align-items-center">
                            <div class="bg-primary rounded-circle d-flex align-items-center justify-content-center text-white me-3" style="width: 40px; height: 40px;">JD</div>
                            <div>
                                <h6 class="text-white mb-0">John Doe</h6>
                                <small class="text-secondary">CEO, Tech Startup</small>
                            </div>
                        </div>
                        <div class="text-warning mt-2">
                            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-6 col-lg-4">
                    <div class="p-4 bg-transparent border border-secondary rounded-3 h-100">
                        <div class="text-secondary mb-3"><i class="fas fa-quote-left"></i> Professional, reliable, and creative. Resham transformed our concept into a beautiful, functional application. <i class="fas fa-quote-right"></i></div>
                        <div class="d-flex align-items-center">
                            <div class="bg-success rounded-circle d-flex align-items-center justify-content-center text-white me-3" style="width: 40px; height: 40px;">SM</div>
                            <div>
                                <h6 class="text-white mb-0">Sarah Miller</h6>
                                <small class="text-secondary">Product Manager</small>
                            </div>
                        </div>
                        <div class="text-warning mt-2">
                            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-6 col-lg-4">
                    <div class="p-4 bg-transparent border border-secondary rounded-3 h-100">
                        <div class="text-secondary mb-3"><i class="fas fa-quote-left"></i> Excellent communication and delivery. The project was completed on time and exceeded all requirements. <i class="fas fa-quote-right"></i></div>
                        <div class="d-flex align-items-center">
                            <div class="bg-purple-600 rounded-circle d-flex align-items-center justify-content-center text-white me-3" style="width: 40px; height: 40px;">MR</div>
                            <div>
                                <h6 class="text-white mb-0">Mike Rodriguez</h6>
                                <small class="text-secondary">Business Owner</small>
                            </div>
                        </div>
                        <div class="text-warning mt-2">
                            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Call to Action -->
    <div class="my-12 fade-in-up animate text-center">
        <div class="glass-card p-6">
            <div class="d-flex flex-column flex-sm-row justify-content-center gap-4 align-items-center">
                <a href="mailto:{{ profile.email|default:'reshamchy2004@gmail.com' }}" 
                   class="btn btn-primary btn-lg px-5">
                    <i class="fas fa-envelope me-2"></i> Send Email
                </a>
                <a href="{% url 'projects' %}" 
                   class="btn btn-outline-primary btn-lg px-5">
                    <i class="fas fa-rocket me-2"></i> View My Work
                </a>
                <a href="tel:{{ profile.phone|default:'9860485752' }}" 
                   class="btn btn-success btn-lg px-5">
                    <i class="fas fa-phone me-2"></i> Call Now
                </a>
            </div>
            <div class="d-flex justify-content-center gap-5 mt-4 text-secondary small">
                <div><i class="fas fa-clock me-1"></i> Quick Response</div>
                <div><i class="fas fa-shield-alt me-1"></i> Quality Guaranteed</div>
                <div><i class="fas fa-heart me-1"></i> Passionate Work</div>
            </div>
        </div>
    </div>
</div>
{% endblock %}